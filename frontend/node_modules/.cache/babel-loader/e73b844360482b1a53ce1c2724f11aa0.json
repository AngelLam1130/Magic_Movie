{"ast":null,"code":"import _objectDestructuringEmpty from \"/Users/linanqi/Hackathon/RKA-808/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty\";\nimport _slicedToArray from \"/Users/linanqi/Hackathon/RKA-808/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/linanqi/Hackathon/RKA-808/frontend/src/components/UploadedMusic.js\";\nimport React, { useContext, memo, useState } from 'react';\nimport { Context } from '../hooks/useStore';\nimport './UploadedMusic.css';\n\nconst UploadedMusic = ({}) => {\n  const _useState = useState(),\n        _useState2 = _slicedToArray(_useState, 2),\n        file = _useState2[0],\n        setFile = _useState2[1];\n\n  const _useContext = useContext(Context);\n\n  _objectDestructuringEmpty(_useContext);\n\n  function handleDownload(version) {\n    // Replace 'url' with the actual endpoint to download the processed file\n    const downloadURL = \"url/version/\".concat(version);\n    fetch(downloadURL).then(response => response.blob()) // Get the response as a blob\n    .then(blob => {\n      // Create a download link and trigger the download\n      const url = window.URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.setAttribute('download', \"Music_Version_\".concat(version, \".mp3\"));\n      document.body.appendChild(link);\n      link.click();\n    }).catch(error => {\n      console.error('Error downloading file:', error);\n    });\n  }\n\n  function handleUploadMusicFile() {\n    const formData = new FormData();\n    formData.append('file', file); // Replace 'uploadUrl' with the actual endpoint to handle file upload\n\n    const uploadUrl = 'uploadUrl';\n    fetch(uploadUrl, {\n      method: 'POST',\n      body: formData\n    }).then(response => response.json()).then(result => {\n      console.log('Upload success:', result); // Perform any other actions after successful upload, if needed\n    }).catch(error => {\n      console.error('Error uploading file:', error);\n    });\n  }\n\n  function handleMusicFile(event) {\n    setFile(event.target.files[0]); // Handle the selected file, e.g., upload it to the server or process it\n\n    console.log(event.target.files[0]);\n  }\n\n  return React.createElement(\"nav\", {\n    className: \"UploadedMusicBar\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: handleUploadMusicFile,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form_container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"file\",\n    name: \"file\",\n    className: \"form_element\",\n    onChange: handleMusicFile,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    className: \"form_element\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, \"Generate from Uploaded Music\"))), React.createElement(\"div\", {\n    className: \"optionChoice\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, \"Music Version 1\"), React.createElement(\"button\", {\n    className: \"form_element\",\n    onClick: handleDownload,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, \"Download\"))), React.createElement(\"div\", {\n    className: \"optionChoice\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, \"Music Version 2\"), React.createElement(\"button\", {\n    className: \"form_element\",\n    onClick: handleDownload,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, \"Download\"))), React.createElement(\"div\", {\n    className: \"optionChoice\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, \"Music Version 3\"), React.createElement(\"button\", {\n    className: \"form_element\",\n    onClick: handleDownload,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, \"Download\"))));\n};\n\nexport default memo(UploadedMusic);","map":{"version":3,"sources":["/Users/linanqi/Hackathon/RKA-808/frontend/src/components/UploadedMusic.js"],"names":["React","useContext","memo","useState","Context","UploadedMusic","file","setFile","handleDownload","version","downloadURL","fetch","then","response","blob","url","window","URL","createObjectURL","link","document","createElement","href","setAttribute","body","appendChild","click","catch","error","console","handleUploadMusicFile","formData","FormData","append","uploadUrl","method","json","result","log","handleMusicFile","event","target","files"],"mappings":"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","sourcesContent":["import React, { useContext, memo ,useState} from 'react'\nimport { Context } from '../hooks/useStore'\nimport './UploadedMusic.css'\n\nconst UploadedMusic = ({}) => {\n    const[file,setFile] = useState()\n    const {  } = useContext(Context)\n\n    function handleDownload(version) {\n        // Replace 'url' with the actual endpoint to download the processed file\n        const downloadURL = `url/version/${version}`;\n\n        fetch(downloadURL)\n        .then((response) => response.blob()) // Get the response as a blob\n        .then((blob) => {\n            // Create a download link and trigger the download\n            const url = window.URL.createObjectURL(blob);\n            const link = document.createElement('a');\n            link.href = url;\n            link.setAttribute('download', `Music_Version_${version}.mp3`);\n            document.body.appendChild(link);\n            link.click();\n        })\n        .catch((error) => {\n            console.error('Error downloading file:', error);\n        });\n    }\n\n    function handleUploadMusicFile() {\n        const formData = new FormData();\n        formData.append('file', file);\n\n        // Replace 'uploadUrl' with the actual endpoint to handle file upload\n        const uploadUrl = 'uploadUrl';\n\n        fetch(uploadUrl, {\n            method: 'POST',\n            body: formData,\n        })\n            .then((response) => response.json())\n            .then((result) => {\n                console.log('Upload success:', result);\n            // Perform any other actions after successful upload, if needed\n            })\n            .catch((error) => {\n                console.error('Error uploading file:', error);\n            });\n    }\n\n    function handleMusicFile(event) {\n        setFile(event.target.files[0]);\n        // Handle the selected file, e.g., upload it to the server or process it\n        console.log(event.target.files[0]);\n    }\n\n    return (\n        <nav className=\"UploadedMusicBar\">\n            {/* <div className=\"uploadHeader\">\n                <h1 className=\"uploadTitle\">Customize Your Own Music</h1>\n            </div>\n            <div class=\"line\"></div> */}\n            <form onSubmit={handleUploadMusicFile}>\n                <div className=\"form_container\">\n                    <input type=\"file\" name=\"file\" className=\"form_element\" onChange={handleMusicFile} />\n                    <button className=\"form_element\">Generate from Uploaded Music</button>\n                </div>\n            </form>\n            <div className=\"optionChoice\">\n                <h3>Music Version 1</h3>\n                <button className=\"form_element\" onClick={handleDownload}>\n                    <span>Download</span>\n                </button>\n            </div>\n            <div className=\"optionChoice\">\n                <h3>Music Version 2</h3>\n                <button className=\"form_element\" onClick={handleDownload}>\n                    <span>Download</span>\n                </button>\n            </div>\n            <div className=\"optionChoice\">\n                <h3>Music Version 3</h3>\n                <button className=\"form_element\" onClick={handleDownload}>\n                    <span>Download</span>\n                </button>\n            </div>\n        </nav>\n    )\n}\n\nexport default memo(UploadedMusic)\n"]},"metadata":{},"sourceType":"module"}