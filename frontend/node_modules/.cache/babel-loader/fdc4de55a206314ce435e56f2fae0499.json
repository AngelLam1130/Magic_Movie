{"ast":null,"code":"'use strict';\n\nvar _interopRequireDefault = require('@babel/runtime/helpers/interopRequireDefault');\nvar _typeof = require('@babel/runtime/helpers/typeof');\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports['default'] = void 0;\nvar _regenerator = _interopRequireDefault(require('@babel/runtime/regenerator'));\nvar _asyncToGenerator2 = _interopRequireDefault(require('@babel/runtime/helpers/asyncToGenerator'));\nvar _slicedToArray2 = _interopRequireDefault(require('@babel/runtime/helpers/slicedToArray'));\nvar _react = _interopRequireWildcard(require('react'));\nvar _provider = require('../../provider');\nrequire('./styles.css');\nvar _AiFillCloseCircle = require('@react-icons/all-files/ai/AiFillCloseCircle');\nvar _BiErrorAlt = require('@react-icons/all-files/bi/BiErrorAlt');\nvar _BiError = require('@react-icons/all-files/bi/BiError');\nvar _FaCheckCircle = require('@react-icons/all-files/fa/FaCheckCircle');\nvar _AiFillLeftCircle = require('@react-icons/all-files/ai/AiFillLeftCircle');\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== 'function') return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n  if (obj === null || _typeof(obj) !== 'object' && typeof obj !== 'function') {\n    return {\n      default: obj\n    };\n  }\n  var cache = _getRequireWildcardCache(nodeInterop);\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n  for (var key in obj) {\n    if (key !== 'default' && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n  newObj['default'] = obj;\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n  return newObj;\n}\nvar WalletSelectModal = function WalletSelectModal(_ref) {\n  var inputWallets = _ref.wallets;\n  var _useContext = (0, _react.useContext)(_provider.SeiWalletContext),\n    connectedWallet = _useContext.connectedWallet,\n    setTargetWallet = _useContext.setTargetWallet,\n    wallets = _useContext.wallets,\n    connectionError = _useContext.connectionError,\n    targetWallet = _useContext.targetWallet,\n    setConnectionError = _useContext.setConnectionError,\n    showConnectModal = _useContext.showConnectModal,\n    setShowConnectModal = _useContext.setShowConnectModal;\n  var visibleWallets = inputWallets || wallets || [];\n  var _useState = (0, _react.useState)(false),\n    _useState2 = (0, _slicedToArray2['default'])(_useState, 2),\n    isConnecting = _useState2[0],\n    setIsConnecting = _useState2[1];\n  var _useState3 = (0, _react.useState)(),\n    _useState4 = (0, _slicedToArray2['default'])(_useState3, 2),\n    infoTitle = _useState4[0],\n    setInfoTitle = _useState4[1];\n  var _useState5 = (0, _react.useState)(false),\n    _useState6 = (0, _slicedToArray2['default'])(_useState5, 2),\n    isMobile = _useState6[0],\n    setIsMobile = _useState6[1];\n  (0, _react.useEffect)(function () {\n    if (connectedWallet || connectionError) {\n      setIsConnecting(false);\n    }\n  }, [connectedWallet, connectionError]);\n  (0, _react.useEffect)(function () {\n    var handleResize = function handleResize() {\n      setIsMobile(window.innerWidth < 480);\n    };\n    setIsMobile(window.innerWidth < 480);\n    window.addEventListener('resize', handleResize);\n    return function () {\n      return window.removeEventListener('resize', handleResize);\n    };\n  }, []);\n  var isWalletInstalled = targetWallet !== undefined && window[targetWallet.walletInfo.windowKey] !== undefined;\n  var hasImportantInfo = connectionError || infoTitle;\n  var closeModal = function closeModal(e) {\n    e.stopPropagation();\n    if (infoTitle) {\n      setInfoTitle(undefined);\n      return;\n    }\n    setConnectionError(undefined);\n    setShowConnectModal(false);\n  };\n  var renderWallet = function renderWallet(wallet) {\n    var _targetWallet$walletI;\n    var isConnectedWallet = (connectedWallet === null || connectedWallet === void 0 ? void 0 : connectedWallet.walletInfo.name) === wallet.walletInfo.name;\n    var renderConnection = function renderConnection() {\n      if (isConnectedWallet) return /*#__PURE__*/_react['default'].createElement(_FaCheckCircle.FaCheckCircle, {\n        className: 'wallet__item--info-icon'\n      });\n      return null;\n    };\n    var selectWallet = /*#__PURE__*/function () {\n      var _ref2 = (0, _asyncToGenerator2['default'])( /*#__PURE__*/_regenerator['default'].mark(function _callee() {\n        return _regenerator['default'].wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              setTargetWallet(wallet);\n              setIsConnecting(true);\n              setConnectionError(undefined);\n            case 3:\n            case 'end':\n              return _context.stop();\n          }\n        }, _callee);\n      }));\n      return function selectWallet() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    return /*#__PURE__*/_react['default'].createElement('div', {\n      key: wallet.walletInfo.name,\n      onClick: selectWallet,\n      className: 'wallet__item '.concat(isConnectedWallet ? 'wallet__item-connected' : '', ' ').concat((targetWallet === null || targetWallet === void 0 || (_targetWallet$walletI = targetWallet.walletInfo) === null || _targetWallet$walletI === void 0 ? void 0 : _targetWallet$walletI.windowKey) === wallet.walletInfo.windowKey ? 'wallet__item-targeted' : '')\n    }, /*#__PURE__*/_react['default'].createElement('div', {\n      className: 'wallet__item--info'\n    }, /*#__PURE__*/_react['default'].createElement('img', {\n      alt: wallet.walletInfo.name,\n      src: wallet.walletInfo.icon,\n      className: 'wallet__item--info-icon'\n    }), /*#__PURE__*/_react['default'].createElement('p', {\n      className: 'wallet__item--info-name'\n    }, wallet.walletInfo.name)), renderConnection());\n  };\n  var renderAdditionalInfo = function renderAdditionalInfo() {\n    if (isConnecting) {\n      return /*#__PURE__*/_react['default'].createElement('div', {\n        className: 'card__right-centered'\n      }, /*#__PURE__*/_react['default'].createElement('img', {\n        alt: targetWallet === null || targetWallet === void 0 ? void 0 : targetWallet.walletInfo.icon,\n        src: targetWallet === null || targetWallet === void 0 ? void 0 : targetWallet.walletInfo.icon,\n        className: 'card__right--connecting-icon'\n      }), /*#__PURE__*/_react['default'].createElement('p', {\n        className: 'card__right--item-title'\n      }, 'Connecting to ', targetWallet === null || targetWallet === void 0 ? void 0 : targetWallet.walletInfo.name, '...'));\n    }\n    if (!isWalletInstalled && targetWallet) {\n      var _targetWallet$walletI2, _targetWallet$walletI3;\n      return /*#__PURE__*/_react['default'].createElement('div', {\n        className: 'card__right'\n      }, /*#__PURE__*/_react['default'].createElement('div', {\n        className: 'card__right--header mobile-only',\n        onClick: function onClick() {\n          setConnectionError(undefined);\n          setTargetWallet(undefined);\n        }\n      }, /*#__PURE__*/_react['default'].createElement(_AiFillLeftCircle.AiFillLeftCircle, {\n        className: 'card__right--icon',\n        style: {\n          display: 'unset'\n        }\n      }), /*#__PURE__*/_react['default'].createElement('p', {\n        className: 'card__right--title'\n      }, (targetWallet === null || targetWallet === void 0 || (_targetWallet$walletI2 = targetWallet.walletInfo) === null || _targetWallet$walletI2 === void 0 ? void 0 : _targetWallet$walletI2.name) || 'Wallet', ' not installed')), /*#__PURE__*/_react['default'].createElement('div', {\n        className: 'card__right--error'\n      }, /*#__PURE__*/_react['default'].createElement(_BiErrorAlt.BiErrorAlt, {\n        className: 'card__right--error-icon'\n      }), /*#__PURE__*/_react['default'].createElement('p', {\n        className: 'card__right--error-description'\n      }, 'Please ensure you open this webpage from within the ', (targetWallet === null || targetWallet === void 0 || (_targetWallet$walletI3 = targetWallet.walletInfo) === null || _targetWallet$walletI3 === void 0 ? void 0 : _targetWallet$walletI3.name) || 'Wallet', ' mobile app.')), (targetWallet === null || targetWallet === void 0 ? void 0 : targetWallet.walletInfo.website) && /*#__PURE__*/_react['default'].createElement('a', {\n        target: '_blank',\n        href: targetWallet.walletInfo.website,\n        className: 'card__right--download'\n      }, 'Download ', targetWallet === null || targetWallet === void 0 ? void 0 : targetWallet.walletInfo.name));\n    }\n    if (connectionError) {\n      var _targetWallet$walletI4;\n      return /*#__PURE__*/_react['default'].createElement('div', {\n        className: 'card__right'\n      }, /*#__PURE__*/_react['default'].createElement('div', {\n        className: 'card__right--header mobile-only',\n        onClick: function onClick() {\n          setConnectionError(undefined);\n          setTargetWallet(undefined);\n        }\n      }, /*#__PURE__*/_react['default'].createElement(_AiFillLeftCircle.AiFillLeftCircle, {\n        className: 'card__right--icon',\n        style: {\n          display: 'unset'\n        }\n      }), /*#__PURE__*/_react['default'].createElement('p', {\n        className: 'card__right--title'\n      }, 'Connection error')), /*#__PURE__*/_react['default'].createElement('div', {\n        className: 'card__right--error'\n      }, /*#__PURE__*/_react['default'].createElement(_BiError.BiError, {\n        className: 'card__right--error-icon'\n      }), /*#__PURE__*/_react['default'].createElement('p', {\n        className: 'card__right--title'\n      }, \"We couldn't connect to \", (targetWallet === null || targetWallet === void 0 || (_targetWallet$walletI4 = targetWallet.walletInfo) === null || _targetWallet$walletI4 === void 0 ? void 0 : _targetWallet$walletI4.name) || 'your wallet')), /*#__PURE__*/_react['default'].createElement('div', {\n        className: 'card__right--item'\n      }, /*#__PURE__*/_react['default'].createElement('p', {\n        className: 'card__right--item-title'\n      }, 'How to resolve this issue?'), /*#__PURE__*/_react['default'].createElement('p', {\n        className: 'card__right--item-description'\n      }, 'A pending action or a locked wallet can cause issues. Please open the extension manually and try again.')));\n    }\n    if (connectedWallet && !hasImportantInfo) {\n      return /*#__PURE__*/_react['default'].createElement('div', {\n        className: 'card__right-centered'\n      }, /*#__PURE__*/_react['default'].createElement('img', {\n        alt: targetWallet === null || targetWallet === void 0 ? void 0 : targetWallet.walletInfo.icon,\n        src: targetWallet === null || targetWallet === void 0 ? void 0 : targetWallet.walletInfo.icon,\n        className: 'card__right--connecting-icon'\n      }), /*#__PURE__*/_react['default'].createElement('p', {\n        className: 'card__right--item-title'\n      }, 'Connected to ', targetWallet === null || targetWallet === void 0 ? void 0 : targetWallet.walletInfo.name));\n    }\n    if (!hasImportantInfo && isMobile) return null;\n    return /*#__PURE__*/_react['default'].createElement('div', {\n      className: 'card__right'\n    }, /*#__PURE__*/_react['default'].createElement('div', {\n      className: 'card__right--header',\n      onClick: function onClick() {\n        return setInfoTitle(undefined);\n      }\n    }, /*#__PURE__*/_react['default'].createElement(_AiFillLeftCircle.AiFillLeftCircle, {\n      className: 'card__right--icon',\n      onClick: function onClick() {\n        return setInfoTitle(undefined);\n      }\n    }), /*#__PURE__*/_react['default'].createElement('p', {\n      className: 'card__right--title'\n    }, 'New to using a wallet?')), /*#__PURE__*/_react['default'].createElement('div', {\n      className: 'card__right--item'\n    }, /*#__PURE__*/_react['default'].createElement('p', {\n      className: 'card__right--item-title'\n    }, 'A Secure Hub for Digital Transactions'), /*#__PURE__*/_react['default'].createElement('p', {\n      className: 'card__right--item-description'\n    }, 'Wallets provide a secure environment for signing and sending transactions involving your tokens and NFTs.')), /*#__PURE__*/_react['default'].createElement('div', {\n      className: 'card__right--item'\n    }, /*#__PURE__*/_react['default'].createElement('p', {\n      className: 'card__right--item-title'\n    }, 'A modern way to log in'), /*#__PURE__*/_react['default'].createElement('p', {\n      className: 'card__right--item-description'\n    }, 'Rather than generating new accounts and passwords for each website, simply link your wallet.')));\n  };\n  if (!showConnectModal) return null;\n  var renderContent = function renderContent() {\n    var shouldShowHomeInfo = !hasImportantInfo || !isMobile;\n    return /*#__PURE__*/_react['default'].createElement(_react['default'].Fragment, null, shouldShowHomeInfo && /*#__PURE__*/_react['default'].createElement('div', {\n      className: 'card__header'\n    }, /*#__PURE__*/_react['default'].createElement('h2', {\n      className: 'card__header--title'\n    }, 'Connect a wallet'), /*#__PURE__*/_react['default'].createElement(_AiFillCloseCircle.AiFillCloseCircle, {\n      className: 'card__header--close',\n      onClick: closeModal\n    })), /*#__PURE__*/_react['default'].createElement('div', {\n      className: 'card__content'\n    }, shouldShowHomeInfo && /*#__PURE__*/_react['default'].createElement(_react['default'].Fragment, null, /*#__PURE__*/_react['default'].createElement('div', {\n      className: 'card__content--wallets'\n    }, visibleWallets.map(renderWallet)), /*#__PURE__*/_react['default'].createElement('div', {\n      className: 'card__content--separator'\n    })), renderAdditionalInfo()));\n  };\n  var renderMobileHelper = function renderMobileHelper() {\n    if (hasImportantInfo) return null;\n    var title = 'New to using a wallet?';\n    return /*#__PURE__*/_react['default'].createElement('div', {\n      className: 'card__content--mobile-helper'\n    }, /*#__PURE__*/_react['default'].createElement('p', {\n      className: 'card__right--title-mobile',\n      onClick: function onClick() {\n        return setInfoTitle(title);\n      }\n    }, title));\n  };\n  return /*#__PURE__*/_react['default'].createElement('div', {\n    onClick: closeModal,\n    className: 'modal__background'\n  }, /*#__PURE__*/_react['default'].createElement('div', {\n    onClick: function onClick(e) {\n      return e.stopPropagation();\n    },\n    className: 'modal__card'\n  }, renderContent(), renderMobileHelper()));\n};\nvar _default = WalletSelectModal;\nexports['default'] = _default;","map":null,"metadata":{},"sourceType":"script"}