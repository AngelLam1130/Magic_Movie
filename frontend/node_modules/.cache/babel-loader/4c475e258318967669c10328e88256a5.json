{"ast":null,"code":"'use strict';\n\nvar _interopRequireDefault = require('@babel/runtime/helpers/interopRequireDefault');\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports.restoreWallet = exports.generateWallet = void 0;\nvar _regenerator = _interopRequireDefault(require('@babel/runtime/regenerator'));\nvar _asyncToGenerator2 = _interopRequireDefault(require('@babel/runtime/helpers/asyncToGenerator'));\nvar _protoSigning = require('@cosmjs/proto-signing');\nvar _crypto = require('@cosmjs/crypto');\nvar getHdPath = function getHdPath() {\n  var accountIndex = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  var stringPath = \"m/44'/118'/0'/0/\".concat(accountIndex);\n  return (0, _crypto.stringToPath)(stringPath);\n};\nvar generateWallet = /*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2['default'])( /*#__PURE__*/_regenerator['default'].mark(function _callee() {\n    var mnemonicLength,\n      accountIndex,\n      _args = arguments;\n    return _regenerator['default'].wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          mnemonicLength = _args.length > 0 && _args[0] !== undefined ? _args[0] : 12;\n          accountIndex = _args.length > 1 ? _args[1] : undefined;\n          _context.next = 4;\n          return _protoSigning.DirectSecp256k1HdWallet.generate(mnemonicLength, {\n            prefix: 'sei',\n            hdPaths: [getHdPath(accountIndex)]\n          });\n        case 4:\n          return _context.abrupt('return', _context.sent);\n        case 5:\n        case 'end':\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function generateWallet() {\n    return _ref.apply(this, arguments);\n  };\n}();\nexports.generateWallet = generateWallet;\nvar restoreWallet = /*#__PURE__*/function () {\n  var _ref2 = (0, _asyncToGenerator2['default'])( /*#__PURE__*/_regenerator['default'].mark(function _callee2(seedPhrase, accountIndex) {\n    return _regenerator['default'].wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return _protoSigning.DirectSecp256k1HdWallet.fromMnemonic(seedPhrase, {\n            prefix: 'sei',\n            hdPaths: [getHdPath(accountIndex)]\n          });\n        case 2:\n          return _context2.abrupt('return', _context2.sent);\n        case 3:\n        case 'end':\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return function restoreWallet(_x, _x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexports.restoreWallet = restoreWallet;","map":{"version":3,"names":["_protoSigning","require","_crypto","getHdPath","accountIndex","arguments","length","undefined","stringPath","concat","stringToPath","generateWallet","_ref","_asyncToGenerator2","_regenerator","mark","_callee","mnemonicLength","_args","wrap","_callee$","_context","prev","next","DirectSecp256k1HdWallet","generate","hdPaths","abrupt","sent","stop","apply","_callee2","seedPhrase","_callee2$","_context2","fromMnemonic","prefix"],"sources":["../../../src/lib/wallet/wallet.ts"],"sourcesContent":["import { DirectSecp256k1HdWallet } from '@cosmjs/proto-signing';\nimport { HdPath, stringToPath } from '@cosmjs/crypto';\n\nconst getHdPath = (accountIndex = 0): HdPath => {\n\tconst stringPath = `m/44'/118'/0'/0/${accountIndex}`;\n\treturn stringToPath(stringPath);\n};\n\nexport const generateWallet = async (mnemonicLength: 12 | 15 | 18 | 21 | 24 = 12, accountIndex?: number): Promise<DirectSecp256k1HdWallet> => {\n\treturn await DirectSecp256k1HdWallet.generate(mnemonicLength, {\n\t\tprefix: 'sei',\n\t\thdPaths: [getHdPath(accountIndex)]\n\t});\n};\n\nexport const restoreWallet = async (seedPhrase: string, accountIndex?: number): Promise<DirectSecp256k1HdWallet> => {\n\treturn await DirectSecp256k1HdWallet.fromMnemonic(seedPhrase, { prefix: 'sei', hdPaths: [getHdPath(accountIndex)] });\n};\n"],"mappings":";;;;;;;;;AAAA,IAAAA,aAAA,GAAAC,OAAA;AACA,IAAAC,OAAA,GAAAD,OAAA;AAEA,IAAME,SAAS,GAAG,SAAZA,SAASA,CAAA,EAAiC;MAAAC,YAA7B,GAAYC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,OAAG;MACjCG,UAAM,GAAU,mBAAAC,MAAA,CAAAL,YAAsB,CAAY;SAClD,CAAO,GAAAF,OAAA,CAAAQ,YAAA,EAAYF,UAAC,CAAU;AAC/B,CAAC;AAEM,IAAMG,cAAc;MAAAC,IAAA,OAAAC,kBAAA,c,aAAGC,YAAA,YAAAC,IAAA,UAAAC,QAAA;QAAAC,cAAA;kBAAA;MAAAC,KAAA,GAAAb,SAAA;WAAAS,YAAA,YAAAK,IAAA,UAAAC,SAAAC,QAAA;aAAA,G,QAAOA,QAAA,CAAAC,IAAsC,GAAAD,QAAA,CAAAE,IAAA;aAAO;wBAAqB,GAAAL,KAAA,CAAAZ,MAAA,QAAAY,KAAA,QAAAX,SAAA,GAAAW,KAAA;sBACzF,GAAAA,KAAA,CAAAZ,MAAA,OAAAY,KAAA,MAAAX,SAAwB;kBACpC,CAAAgB,IAAQ;iBACRvB,aAAU,CAAAwB,uBAAuB,CAAAC,QAAA,CAAAR,cAAA;kBAChC;YAAAS,OAAA,GAAAvB,SAAA,CAAAC,YAAA;;aAAA;iBAAAiB,QAAA,CAAAM,MAAA,WAAAN,QAAA,CAAAO,IAAA;aAAA;QAAA;UAAA,OAAAP,QAAA,CAAAQ,IAAA;MACF;IAAA,GAAAb,OAAA;KAL0B;EAAA,OAK1B,SAAAL,eAAA;IAAC,OAAAC,IAAA,CAAAkB,KAAA,OAAAzB,SAAA;EAEK;EAAmB;OAAmD,CAAAM,cAAA,GAAAA,cAAA;iBAAA;WAAA,OAAAE,kBAAA,c,aAAAC,YAAA,YAAAC,IAAA,UAAAgB,SAAAC,UAAA,EAAA5B,YAAA;WAAAU,YAC/D,YAAAK,IAAA,UAAAc,SAAwBA,CAAAC,SAAY,EAAC;cAAc,E,QAAeA,SAAU,CAAAZ,IAAA,GAASY,SAAC,CAAAX,IAAa;aAAG,CAAC;mBAAA,CAAAA,IAAA;iBAAAvB,aAAA,CAAAwB,uBAAA,CAAAW,YAAA,CAAAH,UAAA;YAAAI,MAAA;YAAAV,OAAA,GAAAvB,SAAA,CAAAC,YAAA;;QAAA;UAAA,OAAA8B,SAAA,CAAAP,MAAA,WAAAO,SAAA,CAAAN,IAAA;QACpH;QAAA;UAFyB,OAAAM,SAAA,CAAAL,IAAA;MAAA;IAEzB,GAAAE,QAAA;EAAC,E"},"metadata":{},"sourceType":"script"}